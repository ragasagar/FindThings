<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/cards/card.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/cards/card.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from "react"
import { Button } from "react-bootstrap";
import { put } from "../../Services/Apicall";
import "./card.style.css"

/**
 *    @Component Card:
    * Will display the products available in the seller's shop in card format.
    */
export function Card({ item, key }) {
    
    const [stock, setStocks] = useState(item.stocks);
    const [temp, setTemp] = useState(0);


     /**  update function:
        * Will be called of the seller decide to update stocks of a product and click on the update stocks button.
        * This function will put the update stocks request, updating the stocks in the database
       */
    function update() {
       
        var request = JSON.parse(JSON.stringify(item))
        request.stocks = temp
        let user = JSON.parse(localStorage.getItem('user-info'))

        try {//Puting the updated stocks in the databse

            put("http://localhost:8090/items/shops/" + user.shop.shopId, request)
                .then((resp) => {
                    resp.json().then((resp) => {
                        setStocks(temp);
                        alert("Update Sucessfully")
                        setTemp(0)
                    })

                }).catch(err => alert(err));

        } catch (error) {
            alert("Error while updating")
        }

    }

    return (&lt;div className="card-container grid grid-rows-3 mx-2">
        &lt;div className="grid grid-rows-2 py-2">
        &lt;h2 className="font-semibold">{item.name}&lt;/h2>
        &lt;div>
        &lt;span className="pr-2">Stocks: {stock}&lt;/span>
        &lt;span>Price:{item.price}&lt;/span>
        &lt;/div>
        &lt;/div>
        &lt;input type="number" placeholder="Enter stocks" min={0} className="form-control focus:bg-blue-50" value = {temp} onChange={(e) => setTemp(e.target.value)} />
        &lt;Button className="button" variant="outline-success" onClick={update}>Update Stocks&lt;/Button>
    &lt;/div>);
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="About.html">About</a></li><li><a href="Buyer.html">Buyer</a></li><li><a href="Card.html">Card</a></li><li><a href="Feedback.html">Feedback</a></li><li><a href="Header.html">Header</a></li><li><a href="History.html">History</a></li><li><a href="module.exports.html">exports</a></li><li><a href="module.exports_module.exports.html">exports</a></li><li><a href="Seller.html">Seller</a></li><li><a href="SellerOrder.html">SellerOrder</a></li><li><a href="ShowFeedbacks.html">ShowFeedbacks</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getToken">getToken</a></li><li><a href="global.html#getUser">getUser</a></li><li><a href="global.html#ProductUpdate">ProductUpdate</a></li><li><a href="global.html#removeUserSession">removeUserSession</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#setUserSession">setUserSession</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Oct 29 2021 20:56:25 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
